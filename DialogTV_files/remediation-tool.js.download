var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,r)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,__spreadValues=(e,t)=>{for(var r in t||(t={}))__hasOwnProp.call(t,r)&&__defNormalProp(e,r,t[r]);if(__getOwnPropSymbols)for(var r of __getOwnPropSymbols(t))__propIsEnum.call(t,r)&&__defNormalProp(e,r,t[r]);return e},__spreadProps=(e,t)=>__defProps(e,__getOwnPropDescs(t)),__objRest=(e,t)=>{var r={};for(var n in e)__hasOwnProp.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&__getOwnPropSymbols)for(var n of __getOwnPropSymbols(e))t.indexOf(n)<0&&__propIsEnum.call(e,n)&&(r[n]=e[n]);return r},__async=(e,t,r)=>new Promise(((n,i)=>{var o=e=>{try{l(r.next(e))}catch(t){i(t)}},a=e=>{try{l(r.throw(e))}catch(t){i(t)}},l=e=>e.done?n(e.value):Promise.resolve(e.value).then(o,a);l((r=r.apply(e,t)).next())}));!function(){"use strict";const e=["script","noscript","style","path","circle","rect","ellipse","line","polygon","polyline","g"],t=["data-uw-ignore","data-uw-rm-ignore"],r=r=>!(r instanceof HTMLElement)||t.some((e=>r.hasAttribute(e)))||e.includes(r.nodeName.toLowerCase()),n=(e,t)=>"childList"===t?[].filter.call(e.addedNodes,(e=>!r(e))):"attributes"===t?r(e.target)?[]:[e.target]:[],i=e=>__async(this,null,(function*(){const t=yield fetch(e);return yield t.json()})),o={AriaEditorValues:[],BrokenLink:[],Contrast:[],EmptyControls:[],ExternalLink:[],Forms:[],Headings:[],Language:[],MissingAlts:[],Pdfs:[],VagueLinks:[]},a=UserWayWidgetApp.ContextHolder.config.remediation,l=UserWayWidgetApp.ContextHolder.config.tunings,s=UserWayWidgetApp.ContextHolder.config.services,u=UserWayWidgetApp.ContextHolder.config.imageAlt;let c={};function d(e){c=__spreadValues({},e)}function p(){return c}const m=()=>__async(this,null,(function*(){if(null==a?void 0:a.consolidated){const e=yield i(a.consolidated);return e.MissingAlts.reverse(),void d(e)}d(o)}));var g=(e=>(e.Remediation="remediation",e.AriaEditor="aria-editor",e))(g||{}),f=(e=>(e.KeyboardNavEnabled="app-key-nav-enabled",e))(f||{});const b=(e,t)=>{const r=r=>{const{data:n}=r,{isUserWay:i,action:o,type:a}=n;i&&o===g.Remediation&&a===e&&t()};window.addEventListener("message",r);return()=>{window.removeEventListener("message",r)}},h=document.body,A={attributes:!0,attributeFilter:["aria-label","alt"],childList:!0,subtree:!0},E=new Set,y=e=>{E.add(e)},v=new MutationObserver((e=>{const t=(e=>{const t=[];for(const r of e)t.push(...n(r,r.type));return t})(e);t.length&&E.forEach((e=>e(t)))})),_=()=>{const r=`${e.join(",")},${t.map((e=>`[${e}]`)).join(",")}`;return document.body.querySelectorAll(`*:not(${r})`)};const T="object"==typeof global&&global&&global.Object===Object&&global;var N="object"==typeof self&&self&&self.Object===Object&&self;const w=T||N||Function("return this")();const R=w.Symbol;var O=Object.prototype,L=O.hasOwnProperty,x=O.toString,I=R?R.toStringTag:void 0;var S=Object.prototype.toString;var C="[object Null]",D="[object Undefined]",M=R?R.toStringTag:void 0;function k(e){return null==e?void 0===e?D:C:M&&M in Object(e)?function(e){var t=L.call(e,I),r=e[I];try{e[I]=void 0;var n=!0}catch(o){}var i=x.call(e);return n&&(t?e[I]=r:delete e[I]),i}(e):function(e){return S.call(e)}(e)}var P="[object Symbol]";var U=/\s/;var W=/^\s+/;function B(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&U.test(e.charAt(t)););return t}(e)+1).replace(W,""):e}function H(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var j=NaN,X=/^[-+]0x[0-9a-f]+$/i,F=/^0b[01]+$/i,$=/^0o[0-7]+$/i,G=parseInt;function V(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return null!=e&&"object"==typeof e}(e)&&k(e)==P}(e))return j;if(H(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=H(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=B(e);var r=F.test(e);return r||$.test(e)?G(e.slice(2),r?2:8):X.test(e)?j:+e}const K=function(){return w.Date.now()};var q="Expected a function",Z=Math.max,Y=Math.min;function z(e,t,r){var n,i,o,a,l,s,u=0,c=!1,d=!1,p=!0;if("function"!=typeof e)throw new TypeError(q);function m(t){var r=n,o=i;return n=i=void 0,u=t,a=e.apply(o,r)}function g(e){var r=e-s;return void 0===s||r>=t||r<0||d&&e-u>=o}function f(){var e=K();if(g(e))return b(e);l=setTimeout(f,function(e){var r=t-(e-s);return d?Y(r,o-(e-u)):r}(e))}function b(e){return l=void 0,p&&n?m(e):(n=i=void 0,a)}function h(){var e=K(),r=g(e);if(n=arguments,i=this,s=e,r){if(void 0===l)return function(e){return u=e,l=setTimeout(f,t),c?m(e):a}(s);if(d)return clearTimeout(l),l=setTimeout(f,t),m(s)}return void 0===l&&(l=setTimeout(f,t)),a}return t=V(t)||0,H(r)&&(c=!!r.leading,o=(d="maxWait"in r)?Z(V(r.maxWait)||0,t):o,p="trailing"in r?!!r.trailing:p),h.cancel=function(){void 0!==l&&clearTimeout(l),u=0,n=s=i=l=void 0},h.flush=function(){return void 0===l?a:b(K())},h}let Q=!0;const J=e=>{setTimeout((()=>{Q=!1}),2e3);const t=function(e,t,r){var n=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return H(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),z(e,t,{leading:n,maxWait:t,trailing:i})}((t=>e(t)),300,{leading:!0,trailing:!0}),r=z((t=>e(t)),500,{maxWait:2e3,leading:!0,trailing:!0});return{run:e=>Q?t(e):r(e)}},ee=(e,t=["userway"])=>{const r=__spreadProps(__spreadValues({},e),{isUserWay:!0});t.forEach((e=>{let t=window.frames[e];if(!t||"function"!=typeof t.postMessage)try{t=document.querySelector(`iframe[name=${e}]`),t=t?t.contentWindow:null}catch(n){console.error(n)}t&&t.postMessage(r,"*")}))},te=e=>{if(["#text","#comment"].includes(e.nodeName))return!1;let t=e.getAttribute("aria-hidden"),r=e.getAttribute("hidden");return(e=>"none"===window.getComputedStyle(e).display)(e)||"true"===t||null!==r&&""!==r},re=["NOSCRIPT","SCRIPT","style"],ne=(e,t)=>{var r;for(let n=0;n<e.length;n++){let i=e[n];switch(i.nodeType){case Node.TEXT_NODE:t+=" "+(null==(r=i.textContent)?void 0:r.trim().replace(/(\n|\r\n)/g,""));break;case Node.ELEMENT_NODE:if(re.includes(i.tagName)||te(i))break;const e=i.getAttribute("aria-hidden"),n=i.getAttribute("alt"),o=i.getAttribute("aria-label");if(!e||"false"===e){if(o){t+=" "+o;break}n&&(t+=n+" "),"IMG"!==i.tagName&&ne(i.childNodes,t)}}}return t},ie=(e,t="")=>{let r=t;return(t=ne(e.childNodes,r)).replace(/\s+/g," ").trim()},oe=e=>{let t=e.split(" "),r="";for(let n=0;n<t.length;n++){let e=document.getElementById(t[n]);e&&(r=" "+ie(e,r))}return r},ae=e=>e&&e.trim()?e.trim().toLowerCase():null,le=e=>{const t=e.alt;if(t&&t.trim())return t.trim();const r=e.getAttribute("aria-label");if(r&&r.trim())return r.trim();const n=e.getAttribute("aria-describedby");if(n){const e=se(n);if(e)return e}const i=e.getAttribute("aria-labelledby");if(i){let e=se(i);if(e)return e}return null},se=e=>e.split(" ").reduce(((e,t)=>{var r;const n=document.getElementById(t.trim());return e+(null!=(r=null==n?void 0:n.textContent)?r:"")}),""),ue=(e,t=0)=>{let r=3735928559^t,n=1103547991^t;for(let i,o=0;o<e.length;o++)i=e.charCodeAt(o),r=Math.imul(r^i,2654435761),n=Math.imul(n^i,1597334677);return r=Math.imul(r^r>>>16,2246822507)^Math.imul(n^n>>>13,3266489909),n=Math.imul(n^n>>>16,2246822507)^Math.imul(r^r>>>13,3266489909),4294967296*(2097151&n)+(r>>>0)},ce=(e,t=!1)=>{var r;if("html"===e.nodeName.toLowerCase())return"/HTML";if("body"===e.nodeName.toLowerCase())return"/HTML/BODY";if("head"===e.nodeName.toLowerCase())return"/HTML/HEAD";let n=0;const i=null==(r=e.parentElement)?void 0:r.children;if(!i)return"";for(let o=0;o<i.length;o++){let r=i[o];if(r===e)return ce(e.parentElement,!0)+`/${e.tagName}[${n+1}]`+(t?"":de(e));r.tagName===e.tagName&&n++}return""};function de(e){const t={s:"src",h:"href"},r=e.innerText?ue(e.innerText):"";return Object.keys(t).reduce(((r,n)=>{const i=t[n],o=e.getAttribute(i)||"";return e.hasAttribute&&e.hasAttribute(i)&&""!==o?r+";"+n+":"+ue(o):r}),"|"+r)}const pe=new RegExp("^(data:)"),me=new RegExp("(.)(gif|jpe?g|tiff?|png|webp|bmp)","i"),ge=e=>{if(pe.test(e))return e;e&&(e=e.replace(/^(http|https)(:\/\/)/,"").replace(/^(www\.)/,""));const t=e.match(me);return(null==t?void 0:t.index)&&(null==t?void 0:t.length)?e.substring(0,t.index+t[0].length):e.split("?")[0]},fe=(e,t,r=!1)=>e.reduce(((e,n)=>{const i=r&&n.position?":nth-of-type("+n.position+")":"";return e+=n.tag+i+(n.idx>=t?">":" ")}),"").slice(0,-1),be=(e,t)=>{if(null===t)return!0;const r=e.innerText?ue(e.innerText).toString():"";if(t.innerText.toString()!==r)return!1;const n=e.hasAttribute("href")?ue(e.getAttribute("href")).toString():"";if(t.href&&t.href!==n)return!1;const i=e.hasAttribute("src")?ue(e.getAttribute("src")).toString():"";return!t.src||t.src===i},he=(e,t=null,r)=>{const n=(i=e,[].slice.call(document.querySelectorAll(i)));var i;if(1===n.length){if(null==r.params)return n[0];if(be(n[0],t))return n[0]}if(n.length>1){if(null==r.params)return null;const e=n.filter((e=>be(e,t)));if(1===e.length)return e[0]}return null};var Ae=(e=>(e[e.Strict=0]="Strict",e[e.Medium=1]="Medium",e[e.Loose=2]="Loose",e))(Ae||{});const Ee={i:"innerText",s:"src",h:"href"},ye=e=>{const[t,r]=e.split("|");let n={innerText:""};if(r){const[e,...t]=r.split(";");n.innerText=e,t.forEach((e=>{const[t,r]=e.split(":");n[Ee[t]]=r}))}return{xpath:t,params:n}},ve=e=>{const{xpath:t,params:r}=ye(e),n=((e,t)=>{const r=("/"===e[0]?e.slice(1):e).split("/");return r.map(((e,n)=>{const i=e.toLowerCase(),[,o,a]=i.match(/(\S+)\[(\S+)?\]/)||[,i],l=r.length-1===n,s={idx:n,tag:o};return a&&(s.position=+a),l&&t&&(s.params=t),s}))})(t,r);return((e,t=4)=>{let r=e.length-2-t;const n=e[e.length-1];let i;const o=n.params;if(r<0){i=fe(e,0,!0);return he(i,o,n)||(i=fe(e,0),he(i,o,n))}const a=a=>{for(r=e.length-2-t;r>=0;r--){i=a===Ae.Loose?fe(e.slice(0,2).concat(...e.slice(-r-t)),e.length-t):fe(e,e.length-t-r-1,a===Ae.Strict);const l=he(i,o,n);if(l)return l}},l=[Ae.Strict,Ae.Medium,Ae.Loose];for(let s=0;s<l.length;s++){const e=a(l[s]);if(e)return e}return null})(n)},_e=e=>{const{xpath:t,params:r}=ye(e),n=document.evaluate(t,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;return be(n,r)?n:null},Te=e=>{try{const t=new URL(e);return t.search="",t.toString()}catch(t){return e}},Ne=e=>e?"LABEL"===e.tagName?e:Ne(e.parentNode):null,we=e=>{let t=Ne(e.parentNode);if(t)return ie(t,"");const r=e.getAttribute("aria-label"),n=e.getAttribute("aria-labelledby");if(r)return r;if(n)return oe(n);if(e.id){let t=(e=>{const t=document.querySelectorAll("LABEL");for(let r=0;r<t.length;r++)if(t[r].htmlFor===e)return t[r];return null})(e.id);if(t)return ie(t,"")}const i=e.getAttribute("title");if(i)return i;return ie(e,"")||""};var Re=(e=>(e.TABINDEX="tabindex",e.ROLE="role",e.TYPE="type",e.SRC="src",e.ARIA_LEVEL="ariaLevel",e.ORIGINAL_ALT="originalAlt",e))(Re||{}),Oe=(e=>(e.UNKNOWN="UNKNOWN",e.NOT_ALLOWED="NOT_ALLOWED",e.TEXT_NODE="TEXT_NODE",e.LANDMARK="LANDMARK",e.CONTROL="CONTROL",e.HEADING="HEADING",e.HAS_ALT_DESCRIPTION="HAS_ALT_DESCRIPTION",e.COMPOSED_TEXT_NODES="COMPOSED_TEXT_NODES",e.IFRAME="IFRAME",e.HIDDEN_FOR_READER="HIDDEN_FOR_READER",e))(Oe||{}),Le=(e=>(e.UNKNOWN="unknown",e.TEXT="text",e.IMAGE="image",e.HEADING="heading",e.FOOTER="footer",e.HEADER="header",e.NAV="nav",e.MAIN="main",e.FORM="form",e.LANDMARK="landmark",e.LINK="link",e.BUTTON="button",e.CHECKBOX="checkbox",e.RADIOBUTTON="radiobutton",e.INPUT="input",e.TEXTAREA="textarea",e.SELECT="select",e.ABBR="abbr",e.LIST_ITEM="list item",e))(Le||{});const xe="accessibility-tree-observer",Ie=["uw-sl","uwy","uw-s10-reading-guide","uw-s12-tooltip"],Se=(e,t)=>t.ariaLabel?t.ariaLabel:t.ariaLabelledBy?oe(t.ariaLabelledBy):ie(e,""),Ce={},De=UserWayWidgetApp.getLib("accessibility_tree_walker");let Me,ke=[],Pe=1;const Ue=(e,t)=>{var r;if(ke=[],(e=>{const t=3===e.nodeType;return Ie.some((t=>!!e.closest&&e.closest(`.${t}`)))||!t&&e.hasAttribute("data-uw-rm-ignore")})(e)&&!t)return null;const n={node:e,type:De.identifyElementType(e)},i=(e=>{if(!e||!e.type)return{};const{node:t}=e;return[Oe.UNKNOWN,Oe.NOT_ALLOWED,Oe.TEXT_NODE].includes(e.type)?{uwAtoId:t.uwAtoId}:{tagName:t.tagName,tabindex:t.getAttribute("tabindex")||"",role:t.getAttribute("role")||"",ariaLevel:t.getAttribute("aria-level")||"",ariaLabel:t.getAttribute("aria-label")||"",ariaLabelledBy:t.getAttribute("aria-labelledby")||"",type:t.getAttribute("type")||"",uwAtoId:t.uwAtoId}})(n);Me=De.identifyElementType(e);const o=Me===Oe.HIDDEN_FOR_READER;let a,l;switch(ke=(e=>(e.tabindex&&ke.push({name:Re.TABINDEX,value:e.tabindex}),e.role&&ke.push({name:Re.ROLE,value:e.role}),e.type&&ke.push({name:Re.TYPE,value:e.type}),e.ariaLevel&&ke.push({name:Re.ARIA_LEVEL,value:e.ariaLevel}),ke))(i),o&&((e,t)=>{const r=e.cloneNode(!0);r.removeAttribute("aria-hidden"),Me=De.identifyElementType(r),Me!==Oe.UNKNOWN||"IMG"!==t.tagName&&"img"!==t.role||(Me=Oe.HAS_ALT_DESCRIPTION)})(e,i),Me){case Oe.TEXT_NODE:a=(e=>{const t=Le.TEXT;let r="";e.textContent&&(r=e.textContent.trim().replace(/(\n|\r\n)/g,"").replace(/\s+/g," "));const n={};return e.parentElement&&(n.parentXpath=ce(e.parentElement)),{semanticType:t,textToRead:r,additionalParams:n}})(e),Ce.parentXpath=null==(r=a.additionalParams)?void 0:r.parentXpath;break;case Oe.COMPOSED_TEXT_NODES:a=((e,t)=>({semanticType:"LI"===t.tagName?Le.LIST_ITEM:Le.TEXT,textToRead:t.ariaLabel||ie(e,"")}))(e,i);break;case Oe.HIDDEN_FOR_READER:a={semanticType:Le.UNKNOWN,textToRead:""};break;case Oe.HEADING:a=((e,t)=>({semanticType:Le.HEADING,textToRead:t.ariaLabel||ie(e,"")}))(e,i);break;case Oe.LANDMARK:a=(e=>{let t,r="";e.ariaLabel?r=e.ariaLabel:e.ariaLabelledBy&&(r=oe(e.ariaLabelledBy));const{tagName:n}=e,{role:i}=e;return t="FOOTER"===n||"contentinfo"===i?Le.FOOTER:"HEADER"===n||"banner"===i?Le.HEADER:"FORM"===n||"form"===i?Le.FORM:"MAIN"===n||"main"===i?Le.MAIN:"NAV"===n||"navigation"===i?Le.NAV:Le.LANDMARK,{semanticType:t,textToRead:r}})(i);break;case Oe.CONTROL:a=((e,t)=>{const{tagName:r,role:n,type:i,ariaLabel:o,ariaLabelledBy:a}=t;let l=!1,s="",u=Le.TEXT;return"menuitem"===n||"option"===n?(s=Se(e,t),l=!0):"link"===n||"A"===r&&!n?(u=Le.LINK,s=Se(e,t),l=!0):"button"===n||"BUTTON"===r?(u=Le.BUTTON,s=Se(e,t),l=!0):"INPUT"!==r||"button"!==i&&"submit"!==i&&"reset"!==i||(u=Le.BUTTON,o?s=o:a&&(s=oe(a)),l=!0),l||(s=we(e),"checkbox"===n||"INPUT"===r&&"checkbox"===i?u=Le.CHECKBOX:"radio"===n||"INPUT"===r&&"radio"===i?u=Le.RADIOBUTTON:"INPUT"===r&&(u=Le.INPUT),"TEXTAREA"===r&&(u=Le.TEXTAREA),"SELECT"===r&&(u=Le.SELECT)),{semanticType:u,textToRead:s}})(e,i);break;case Oe.HAS_ALT_DESCRIPTION:a=((e,t,r)=>{const{tagName:n,role:i,ariaLabel:o}=t,a=e.getAttribute("alt")||"",l=e.getAttribute("title")||"",s=e.getAttribute("data-uw-rm-ima-original")||"";let u="",c=Le.TEXT;const d=r;return"IMG"!==n&&"img"!==i||(c=Le.IMAGE,d.push({name:Re.SRC,value:e.src}),d.push({name:Re.ORIGINAL_ALT,value:s}),u=o||a||s||u),"ABBR"===n&&(c=Le.ABBR,u=l),{semanticType:c,textToRead:u,attributesToReturn:d}})(e,i,ke),a.attributesToReturn&&(ke=a.attributesToReturn);break;case Oe.UNKNOWN:a=((e,t)=>{let r=Le.TEXT;return"DIV"!==t.tagName||e.innerHTML||(r=Le.LANDMARK),{semanticType:r,textToRead:""}})(e,i);break;default:a={textToRead:"",semanticType:Le.TEXT}}return i.uwAtoId?l=i.uwAtoId:(l=Pe,Pe+=1,n.node.uwAtoId=l),__spreadValues({id:l,xpath:ce(e),label:a.textToRead.replace(/\|/g,"").trim(),tagName:i.tagName||"",type:a.semanticType,hidden:o,attributes:ke,el:n.node},Ce)},We=UserWayWidgetApp.getLib("accessibility_tree_walker");let Be=[];const He=()=>{let e=null;Be=[];do{const t=We.getNextAccessibilityTreeNode(e);if(!t)break;const r=Ue(t.node);r&&Be.push(r),e=t.node}while(e);Be=Be.map((e=>{const t=e,{el:r}=t;return __objRest(t,["el"])})),ee({action:xe,type:"userway:ato-output:get",data:{nodes:Be,version:Date.now()}},["uwAccessibilityEditor"])},je=()=>Be,Xe={enabled:!1},Fe={"userway:ato-input:enable":()=>{Xe.enabled||(Xe.enabled=!0,y(He),He())},"userway:ato-input:disable":()=>{var e;Xe.enabled&&(Xe.enabled=!1,e=He,E.delete(e))},"userway:ato-input:get":He},$e={automaticcoupons:/automaticcoupons/,"shopping.yahoo":/shopping\.yahoo/,shopperapproved:/shopperapproved/,rakuten:/rakuten/,"translate.google":/translate\.google/,"maps.googleapis.com":/maps\.googleapis\.com/,"s.w.org":/s\.w\.org/,avatar:/avatar/,companylogos:/companylogos/,favicon:/favicon/,activecampaign:/lt\.php(.*)?l=open/,aweber:/openrate\.aweber\.com/,bananatag:/bl-1\.com/,boomerang:/mailstat\.us\/tr/,"campaign monitor":/cmail(\d+)\.com\/t\//,"cirrus insight":/tracking\.cirrusinsight\.com/,close:/close\.com\/email_opened/,"constant contact":/rs6\.net\/on\.jsp/,contactmonkey:/contactmonkey\.com\/api\/v1\/tracker/,convertkit:/convertkit-mail\.com\/o/,"critical impact":/portal\.criticalimpact\.com\/c2\//,emarsys:/emarsys\.com\/e2t\/o/,gem:/zen\.sr\/o/,getnotify:/email81\.com\/case/,getresponse:/getresponse\.com\/open\.html/,growthdot:/growthdot\.com\/api\/mail-tracking/,front:/app\.frontapp\.com\/(.*)?\/seen/,hubspot:/t\.(hubspotemail|hubspotfree|signaux|senal|sidekickopen|sigopn)/,icontact:/click\.icptrack\.com\/icp/,intercom:/(via\.intercom\.io\/o)|(intercom-mail\.com\/via\/o)/,litmus:/emltrk\.com/,mailchimp:/list-manage\.com\/track/,mailgun:/email\.(mailgun|mg)(.*)?\/o/,mailjet:/mjt\.lu\/oo/,mailspring:/getmailspring\.com\/open/,mailtrack:/(mailtrack\.io\/trace)|(mltrk\.io\/pixel)/,mandrill:/mandrillapp\.com\/track/,marketo:/resources\.marketo\.com\/trk/,mixmax:/(email|track)\.mixmax\.com/,mixpanel:/api\.mixpanel\.com\/track/,nethunt:/nethunt\.co(.*)?\/pixel\.gif/,newton:/tr\.cloudmagic\.com/,outreach:/api\/mailings\/opened/,phplist:/phplist\.com\/lists\/ut\.php/,polymail:/polymail\.io/,postmark:/pstmrk\.it\/open/,"return path":/returnpath\.net\/pixel\.gif/,sailthru:/sailthru\.com\/trk/,salesforce:/nova\.collect\.igodigital\.com/,sendgrid:/wf\/open\?upn/,sendy:/sendy\/t\//,streak:/mailfoogae\.appspot\.com/,superhuman:/r\.superhuman\.com/,thunderhead:/na5\.thunderhead\.com/,tinyletter:/tinyletterapp\.com.*open\.gif/,yamm:/yamm-track\.appspot/,yesware:/t\.yesware\.com/,"zendesk sell":/futuresimple\.com\/api\/v1\/sprite\.png/},Ge=new RegExp("^(data:)"),Ve=new RegExp(/^.+\.svg$/);var Ke=(e=>(e.EXCLUDED_SRC="EXCLUDED_SRC",e.HIDDEN_FROM_SCREEN_READER="HIDDEN_FROM_SCREEN_READER",e.BASE64="BASE64",e.SVG="SVG",e.SMALL_SIZE="SMALL_SIZE",e.MICRO_SIZE="MICRO_SIZE",e.WRONG_SRC="WRONG_SRC",e.ASPECT_RATIO="ASPECT_RATIO",e))(Ke||{});const qe=["SVG","SMALL_SIZE","HIDDEN_FROM_SCREEN_READER"],Ze="data-uw-rm-alt-original",Ye="REMEDIATION_IMAGE_MISSING_ALT",ze="data-uw-rm-alt",Qe=["jpg","jpeg","png","gif","bmp","tiff","tif","svg","webp","ico","apng","heif","heic","avif","eps","raw","cr2","nef","orf","sr2"];var Je=(e=>(e.CorrectAlt="ALT",e.Reverted="RT",e.Backend="BE",e.Excluded="EX",e.Hidden="HD",e.Base64="BS64",e.Svg="SVG",e.Small="SM",e.Micro="MC",e.InvalidSrc="SRC",e.AspectRatio="AR",e.AI="AI",e.AIQuotaExceed="QU",e))(Je||{});const et="uwAccessibilityEditor",tt=s.editorBuildUrl,rt="aria-editor",nt="data-uw-rm-heading",it="aria-editor",ot="REMEDIATION_EMPTY_CONTROLS",at="data-uw-rm-empty-ctrl",lt=["facebook","youtube","whatsapp","instagram","twitter","reddit","linkedin","viber","pinterest","telegram","search","cart","home"],st={prev:"Get previous item",next:"Get next item",scroll:"Activate for scroll",top:"Move to top",bottom:"Move to bottom",expand:"Expand this block",collapse:"Collapse this block",close:"Close this option"},ut=[{re:/(fa-)(.+)/,replacer:"$2"}],ct=(()=>{let e=!1,t=[],r=[];const{run:n}=J((n=>{e||(e=!0,t.forEach((e=>{e.run(n)})),e=!1,r=[])})),i=e=>{r.push(...e),n(r)};return{run:n,init:()=>__async(this,null,(function*(){const e=yield Promise.resolve().then((()=>br));if(t=e.RulesList.filter((e=>{const t=(e=>{switch(e){case Ye:return"alt";case rt:return"ariaEditor";case ot:return"emptyControls";case"REMEDIATION_FORM_LABEL":return"forms";default:return null}})(e.ruleId);if(!t||!s.paidAi)return!0;const r=a[t];return!r||r.enabled})),!l.tech_rem_on_tab){const e=_();n([...e])}const r=b(f.KeyboardNavEnabled,(()=>{const e=_();n([...e]),r()}));window.addEventListener("message",(e=>{const{data:{action:t,type:r}}=e;t===xe&&Fe[r]&&Fe[r]()})),y(i)})),onDomUpdates:i}})();(()=>{__async(this,null,(function*(){var e;yield m();const t=null!=(e=l.tech_rem_in_throttle_ms)?e:500;setTimeout((()=>{ct.init(),((e=h,t=A)=>{l.tech_rem_on_tab||v.observe(e,t);const r=b(f.KeyboardNavEnabled,(()=>{v.observe(e,t),r()}))})()}),t)}))})();const dt=({ruleId:e,isTargetElement:t,rule:r,postMessageApi:n})=>(n&&window.addEventListener("message",(e=>{const{data:t}=e,{isUserWay:r,action:i,type:o}=t;!r||i!==g.Remediation&&i!==g.AriaEditor||n[o]&&n[o](t.data?t.data:t)})),{run:n=>{if(!t)return void r({context:{elements:n}});const i=n.filter((r=>!r.hasAttribute(`uw-ignore-${e}`)&&t(r)));i.length&&r({context:{elements:i}})},stop:()=>{},rerun:()=>{},ruleId:e}),pt="data-uw-rm-title",mt="un",gt="gn",ft=(e,t)=>{e.setAttribute(pt,t?gt:mt)},bt=dt({ruleId:"header-title",rule:()=>{var e;const t=document.getElementsByTagName("title")[0];try{const r=(()=>{const{hostname:e,pathname:t}=window.location,r=e.replace("www.","").split("."),n=(i=r,i.length>1?i.slice(0,-1):i).join("-");var i;const o=t.split("/").filter((e=>e)).join(" ").replace(/^\d+|\s\d+/g,"").trim();return(o+(o?" - ":" ")+n).trim()})();if(t)(null==(e=t.innerHTML)?void 0:e.trim())||t.hasAttribute(pt)||(t.innerHTML=r,ft(t,r));else{const e=document.createElement("title");e.innerHTML=r,ft(e,r),document.head.appendChild(e)}}catch(r){r instanceof Error&&console.error(r)}}}),ht=e=>{const t=e.split("|")[0];return document.evaluate(t,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue},At=e=>!!["input","select","button","textarea","a"].includes(e.tagName.toLowerCase())||["button","checkbox","link","option"].includes((e.getAttribute("role")||"").toLowerCase()),Et=e=>{const t=e.getAttribute("tabindex");if(null!==t){const e=parseInt(t,10);if(!Number.isNaN(e))return e}},yt=e=>{if(At(e))return!0;const t=Et(e);return void 0!==t&&!Number.isNaN(t)&&t>=0},vt=t=>!!e.includes(t.toLowerCase()),_t=(e,t)=>("img"===e?t.getAttribute("alt"):t.getAttribute("aria-label"))||null,Tt=e=>e.getAttribute("role")||null,Nt=e=>e.getAttribute("aria-level")||null,wt=(e,t)=>"img"===e?t.getAttribute("src"):null,Rt=e=>{if(null==e?void 0:e.nextElementSibling){const t=e.nextElementSibling;return vt(t.tagName)?Rt(t):t}return null},Ot=e=>{if(null==e?void 0:e.previousElementSibling){const t=e.previousElementSibling;return vt(t.tagName)?Ot(t):t}return null},Lt=e=>{var t;return null!=(t=e.uwAtoId)?t:null},xt=e=>{if(!e.parentElement)return null;const{parentElement:t}=e,r=ce(t);return je().find((e=>e.xpath===r))?r:xt(t)},It=e=>{const t=Array.from(e.childNodes).find((e=>e.uwAtoId));if(t){const e=ce(t);return je().find((t=>t.xpath===e))?e:null}return null},St=(e,t)=>{if(!e)return;const r=e,{tabindex:n,el:i}=r,o=__objRest(r,["tabindex","el"]),a=e.el?[...e.el.children]:[],l=t.filter((e=>a.includes(e.el)));if(l.length){const e=l.map((e=>St(e,t)));return __spreadProps(__spreadValues({},o),{children:e})}return o},Ct=(e,t="")=>{const r=[e];e.parentElement&&r.push(e.parentElement);let n=0;const i=(null==e?void 0:e.children)?[...e.children].filter((e=>!vt(e.tagName))).reverse():[];i.length&&(r.unshift(...i),n+=i.length);const o=Rt(e);o&&!r.includes(o)&&(r.splice(n,0,o),n+=1);const a=Ot(e);a&&!r.includes(a)&&r.splice(n+1,0,a);const l=r.map((t=>{const r=t.tagName.toLowerCase(),n=Ue(t,!0);if(!n)return null;const{type:i,label:o,id:a}=n,l="function"==typeof t.getAttribute?{label:_t(r,t),isHidden:(s=t,"true"===s.getAttribute("aria-hidden")||"presentation"===s.getAttribute("role")),role:Tt(t),ariaLevel:Nt(t),src:wt(r,t),isControl:At(t),focusable:yt(t),tabindex:Et(t)}:{};var s;return __spreadValues({tagName:r,text:[...t.childNodes].filter((e=>e.nodeType===Node.TEXT_NODE)).map((e=>{var t;return null==(t=e.textContent)?void 0:t.trim()})).join(" ").trim(),id:a,xpath:ce(t),selected:t===e,el:t,semanticType:i,textToRead:o,uwAtoId:Lt(t),accessibleParentXpath:xt(t),accessibleChildXpath:It(t)},l)})).filter(Boolean).reverse();if(l){const e=St(l[0],l);e&&ee({action:it,type:"elements-selected",data:{tree:e,source:t}},[et])}};let Dt,Mt;let kt;const Pt=(e,t)=>{const r="img"===(null==e?void 0:e.tagName.toLowerCase());t&&!r&&e.setAttribute("aria-label",t)},Ut=(e,t)=>{const{tabindex:r,role:n,ariaLevel:i}=t;r&&e.setAttribute("tabindex",r),n&&"no role"!==n?e.setAttribute("role",n):n&&"no role"!==n||e.removeAttribute("role"),i&&e.setAttribute("aria-level",i)},Wt=dt({ruleId:rt,rule:()=>{if(a.ariaEditor.enabled&&(kt=(()=>{let e=p().AriaEditorValues;const t=`${ue(window.location.pathname)}`;return e=e.filter((e=>!e.page||e.page===t)).sort((e=>e.page?-1:1)),e})(),kt))for(const e of kt){if(e.processed)return;const t=ht(e.xpath);if(t&&t.nodeType===Node.ELEMENT_NODE){if(t.hasAttribute(nt))return;const{hidden:r,correction:n}=e;r&&t.setAttribute("aria-hidden","true"),Pt(t,n),Ut(t,e),t.setAttribute(nt,""),e.processed=!0}}},postMessageApi:{"add-aria-editor":()=>{Mt=document.querySelector(`iframe[name=${et}]`),Mt||(Dt=new Promise((e=>{const t={class:"userway_iframe_aria_editor",name:"uwAccessibilityEditor",title:"Aria Editor",style:"\n            z-index: 2147483647;\n            position: fixed;\n            left: 0;\n            top: 0;\n            width: 100%!important;\n            max-width: 100%!important;\n            height: 100%!important;\n            max-height: 100%!important;\n            visibility: hidden;\n            opacity: 0!important;\n            border: none;\n          ",src:tt};Mt=document.createElement("iframe"),Object.entries(t).forEach((([e,t])=>{null==Mt||Mt.setAttribute(e,t)})),Mt.onload=()=>{e()},Mt&&document.body.appendChild(Mt)})))},"open-aria-editor":()=>{Dt.then((()=>{window.parent.postMessage({action:"close",isUserWay:!0}),window.parent.postMessage({action:"manageIconVisibility",isUserWay:!0,type:"hidden"}),Mt&&(Mt.style.visibility="visible",Mt.style.opacity="1"),ee({action:it,type:"aria-editor-open-request"},[et])}))},"close-aria-editor":()=>{window.parent.postMessage({action:"open",isUserWay:!0}),window.parent.postMessage({action:"manageIconVisibility",isUserWay:!0,type:"visible"}),Mt&&(Mt.style.visibility="hidden",Mt.style.opacity="0"),ee({action:it,type:"aria-editor-closed"},[et])},"editor-init":()=>{const e=s,t=!(!e||!e.CUSTOM_BRANDING&&!e.WHITE_LABEL);ee({action:it,type:"open-aria-editor",data:{siteId:s.siteId,showTutorial:!0,whiteLabel:t,hash:ue(window.location.pathname)}},[et])},"update-aria-hidden":e=>{const{xpath:t,hidden:r}=e;if(!t)return;const n=_e(t);(null==n?void 0:n.nodeType)===Node.ELEMENT_NODE&&(r?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden"))},"update-tabindex":e=>{const{xpath:t,focusable:r,isControl:n}=e;if(!t)return;const i=_e(t);(null==i?void 0:i.nodeType)===Node.ELEMENT_NODE&&(n?i[r?"removeAttribute":"setAttribute"]("tabindex","-1"):i[r?"setAttribute":"removeAttribute"]("tabindex","0"))},"update-aria-label":e=>{const{xpath:t,label:r}=e;if(!t||null==r)return;const n=_e(t);(null==n?void 0:n.nodeType)===Node.ELEMENT_NODE&&n.setAttribute("aria-label",e.label)},"update-aria-level":e=>{const{xpath:t,ariaLevel:r}=e;if(!t)return;const n=_e(t);(null==n?void 0:n.nodeType)===Node.ELEMENT_NODE&&(r?n.setAttribute("aria-level",r):n.removeAttribute("aria-level"))},"update-role":e=>{const{xpath:t,role:r}=e;if(!t)return;const n=_e(t);if((null==n?void 0:n.nodeType)===Node.ELEMENT_NODE){r&&"no role"!==r?n.setAttribute("role",r):n.removeAttribute("role")}},"update-corrections":e=>{const{xpath:t}=e,r=_e(t);null==r||r.removeAttribute(nt),m()},"select-elements-by-xpath":e=>{const{xpath:t,source:r}=e;if(!t)return;const n=_e(t);n&&Ct(n,r)},"select-elements-at-point":e=>{const{position:{x:t,y:r}}=e;let n=document.elementsFromPoint(t,r);const i=n.findIndex((e=>e.getAttribute("name")===et));-1!==i&&n.splice(i,1),n=n.filter((e=>!["HTML","BODY"].includes(e.tagName))).slice(0,2),n.length&&Ct(n[0])}}}),Bt=({currentSrc:e,src:t})=>e||t,Ht=(e,t)=>{try{const{width:r,height:n}=window.getComputedStyle(e);return parseInt(r,10)>t&&parseInt(n,10)>t}catch(r){return!1}},jt=(e,{decorative:t,approved:r,fixedByUserWay:n,loadingFromMS:i})=>{var o;return{src:Bt(e),alt:e.alt,originalAlt:null!=(o=e.getAttribute(Ze))?o:"",decorative:t,approved:r,fixedByUserWay:n,loadingFromMS:i}},Xt=e=>{e.setAttribute("role","presentation"),e.removeAttribute("aria-hidden"),e.setAttribute("alt","")},Ft=e=>{if(!e)return"";try{const{hostname:t}=new URL(e);return t.replace(/^https?:\/\//,"").replace(/^www\./,"").replace(/\.[a-zA-Z0-9]*$/,"")}catch(t){return""}},$t=(e,t)=>{if(!t)return!1;const r=Bt(e);return Ft(r)!==t&&!Ht(e,10)},Gt=e=>{const t=new RegExp(`\\.(${Qe.join("|")})$`,"i").test(e),r=e.length>255,n=!e.trim(),i=/[0-9]{5,}/.test(e),o=new RegExp(/^[!@#$%^&*()_+{}[\]`:;<>,.?~\\|\-="'/]+$/,"u").test(e);return i||t||r||n||o},Vt=(e,t)=>{const r=t.alt.trim(),n=Bt(t),i=e.find((e=>ge(e.src)===ge(n)));if(!i||null===i.alt)return null;const{decorative:o,alt:l,approved:s,reverted:u}=i;if(u)return t.setAttribute(ze,Je.Reverted),jt(t,{approved:!0,decorative:!r,fixedByUserWay:!1});const c=!(!a||"AUTO"===a.strategy)&&!s;o&&!c&&Xt(t);const d=s||!r||Gt(r);l&&!c&&d&&!o&&t.setAttribute("alt",l),t.setAttribute(ze,Je.Backend);const p=jt(t,{approved:s,decorative:o,fixedByUserWay:!0});return c&&(p.alt=l),p},Kt=e=>{const t=Bt(e),r=Gt(e.alt);var n;if(!(n=t)||!n.match(Ge)&&!new RegExp("^https?://.{1,256}\\.[a-z]{2,6}/.+$","i").test(n))return Ke.WRONG_SRC;const i=(e=>{if("string"!=typeof e)return!1;for(const t of Object.values($e)){const r=new RegExp(t,"i");if(e.match(r))return!0}return!1})(t);if(i)return Ke.EXCLUDED_SRC;if(!Ht(e,5))return Ke.MICRO_SIZE;if((e=>{try{const{width:t,height:r}=window.getComputedStyle(e),n=parseInt(t,10),i=parseInt(r,10);return!!(n<=10&&i>=10*n||i<=10&&n>=10*i)}catch(t){return!1}})(e))return Ke.ASPECT_RATIO;if(Ge.test(t))return Ke.BASE64;if("true"===e.getAttribute("aria-hidden")||"presentation"===e.getAttribute("role")||"none"===e.getAttribute("role"))return Ke.HIDDEN_FROM_SCREEN_READER;if(Ve.test(t)&&r)return Ke.SVG;return!Ht(e,50)&&r?Ke.SMALL_SIZE:null},qt=e=>{switch(e){case Ke.ASPECT_RATIO:return Je.AspectRatio;case Ke.BASE64:return Je.Base64;case Ke.EXCLUDED_SRC:return Je.Excluded;case Ke.SVG:return Je.Svg;case Ke.MICRO_SIZE:return Je.Micro;case Ke.SMALL_SIZE:return Je.Small;case Ke.WRONG_SRC:return Je.InvalidSrc;case Ke.HIDDEN_FROM_SCREEN_READER:default:return Je.Hidden}},Zt=(e,t,r,n)=>{const i=UserWayWidgetApp.getLib("remediation_manager"),o=UserWayWidgetApp.getLib("remediation_helper_outcome");if(!o.of)return;const a=o.of(e,{items:t},null,r,n);i.HelperCallbackAggregator.onHelperRemediationCompleted(a)},Yt=e=>Zt(Ye,e,e.filter((e=>e.fixedByUserWay)).length,e.filter((e=>!e.approved)).length),zt=e=>{e.hasAttribute(Ze)||e.setAttribute(Ze,e.alt)},Qt=(e,t=[])=>{var r,n;if(0===e.length)return;const{paidAi:i}=s,o=[];for(const l of e){const e=l,s=Gt(e.alt),c=Bt(e);zt(e),Ve.test(c)&&i&&e.setAttribute("role","img");const d=Vt(t,e);if(d){o.push(d);continue}if(!i)continue;const p=Kt(e);if(!s&&!p){e.setAttribute(ze,Je.CorrectAlt),o.push(jt(e,{approved:!0,decorative:!1,fixedByUserWay:!1}));continue}if(null!==p||(null==(n=null==(r=a.alt)?void 0:r.config)?void 0:n.quotaExceeded)){Xt(e),e.setAttribute(ze,qt(p)),p&&qe.includes(p)&&o.push(jt(e,{approved:!1,decorative:!0,fixedByUserWay:!0}));continue}const{quota:m,usage:g}=u;g>=m?(e.setAttribute(ze,Je.AIQuotaExceed),o.push(jt(e,{approved:!1,decorative:!1,fixedByUserWay:!1}))):(e.setAttribute(ze,Je.AI),o.push(jt(e,{approved:!1,decorative:!1,fixedByUserWay:!0,loadingFromMS:!0})))}Yt(o)},Jt=e=>{const t=e.replace(/^https?:\/\//,"");return document.querySelectorAll(`img[src*="${t}" i],img[srcset*="${t}" i]`)},er=e=>__async(this,null,(function*(){const{account:t}=UserWayWidgetApp.ContextHolder.config,{siteId:r}=s,{resourceHash:n}=u,i=encodeURIComponent(e),o=yield fetch(`https://cdn.userway.org/api/img-dscr/v2/${t}/${r}/${n}/alts.json?dto=${i}`,{method:"GET",headers:{"Content-Type":"application/json"}});return(yield o.json()).payload}));var tr=(e=>(e.RO="RO",e))(tr||{});const rr=(e,t)=>e.src.localeCompare(t.src),nr=(e,t=1)=>{if(t>=15)return console.warn("Max split level exceed"),[];const r=((e,t)=>{const r=Math.ceil(e.length/t),n=[];for(let i=0;i<e.length;i+=r)n.push(e.slice(i,i+r));return n})(e,t),n=[];for(const i of r){const r={sorted:i,tier:u.tier},o=JSON.stringify(r);if(encodeURIComponent(o).length/1024>8)return nr(e,t+1);n.push(o)}return n},ir=[],or=e=>{if(!u)return;const{state:t}=u;if("ALTS_OFF"===t)return;const r=(e=>{var t,r;const n=[];for(const i of e){const e=Bt(i),t=Ft(e);if(t){let e=n.find((e=>e.name===t));e||(e={name:t,weight:0},n.push(e)),e.weight+=1}}return null!=(r=null==(t=n.sort(((e,t)=>e.weight<t.weight?1:-1))[0])?void 0:t.name)?r:""})(e),n=[],i=[];for(const a of e){const e=a,t=$t(e,r),o=Kt(e);o&&!qe.includes(o)||t?i.push(e):n.push(e)}try{const e=(e=>{const t=e,r=t.filter(((e,r)=>r===t.findIndex((t=>Bt(e)===Bt(t))))).map((e=>{const t=e,r=t.alt.trim(),n=r&&!Gt(r),i=Bt(t);return{src:Te(i),alt:t.alt.trim(),dir:n||Kt(t)?tr.RO:void 0}}));return r.sort(rr),r})(n),t=nr(e);if(t.length)for(const r of t)er(r).then((({missingAlts:e})=>{const t=n.filter((t=>e.find((e=>ge(e.src)===ge(Bt(t))))));Qt(t,e)}))}catch(o){console.error(o)}Qt(i),ir.length=0},ar=z((e=>or(e)),1e3,{maxWait:2e3,leading:!0,trailing:!0}),lr=dt({ruleId:Ye,rule:({context:{elements:e}})=>{ir.push(...e),ar(ir)},isTargetElement:e=>{const t="img"===e.tagName.toLowerCase(),r=e.hasAttribute(ze);if(!t||r)return!1;const n=e.getAttribute("src"),i=e.getAttribute("srcset");return!!(null!=n?n:i)||!!e.closest("picture")},postMessageApi:{"image-alt-update":({src:e,decorative:t,alt:r,role:n})=>{const i=Jt(e);if(i.length){for(const e of i)e.setAttribute("alt",null!=r?r:""),t?Xt(e):("presentation"!==e.getAttribute("role")&&"none"!==e.getAttribute("role")||e.removeAttribute("role"),e.hasAttribute("aria-hidden")&&e.removeAttribute("aria-hidden")),["link","button","heading"].includes(n)&&e.setAttribute("aria-label",r);Yt([jt(i[0],{approved:!0,decorative:t,fixedByUserWay:!1})])}},"image-alt-revert":({src:e})=>{const t=Jt(e);for(const r of t){const e=r.getAttribute(Ze);null!==e&&r.setAttribute("alt",e)}},"image-alt-update-config":()=>{m()}}}),sr=e=>{const t=e.tagName.toLowerCase(),r=null==e?void 0:e.type,n=e.getAttribute("role");return["a","button"].includes(t)?"a"===t?"<link>":"<button>":"input"===t&&["button","submit","reset"].includes(r)?"<input>":"link"===n?"<link> (role)":"<button> (role)"},ur=[],cr=(e,t,r=!1)=>{const n=!(null==a?void 0:a.strategy)||"AUTO"===a.strategy;var i;return(r||n)&&e.setAttribute("aria-label",t),e.setAttribute(at,""),i={correction:t,approved:r,xpath:ce(e),name:sr(e)},ur.push(i),!0},dr=(e,t)=>{var r;const n=t||e,i=lt.find((e=>"a"===n.tagName.toLowerCase()&&n.href.includes(e)));if(i)return cr(e,i);const o=(e=>{const t=Array.from(e.children);t.push(e);let r=[];for(const n of t)r=r.concat(Array.from(n.classList).map((e=>e.toLowerCase())));return r})(n);let a=lt.find((e=>o.find((t=>t.includes(e)))));if(a||ut.find((e=>o.find((t=>{const r=e.re.test(t)&&t.replace(e.re,e.replacer);return!!r&&(a=r,!0)})))),a)return cr(e,a);const l=null==(r=window.getComputedStyle(n).backgroundImage)?void 0:r.toLowerCase(),s=lt.find((e=>l.includes(e)));if(s)return cr(e,s);const u=Object.keys(st).find((e=>o.find((t=>t.includes(e))))),c=u?st[u]:null;return!!c&&cr(e,c)},pr=e=>{if(!e.hasAttribute("href"))return null;const t=e.getAttribute("href").toLowerCase().match(/^https?:\/\/(?:www\.)?([^/?#]+)/);return t?t[1]:null},mr={},gr=e=>{__spreadValues({},mr)[ue(e.xpath)]=e;const t=ve(e.xpath);t&&cr(t,e.correction)},fr=[bt,lr,Wt,dt({ruleId:ot,rule:({context:{elements:e}})=>{const{EmptyControls:t}=p(),r=(e=>{if(!(null==e?void 0:e.length))return null;for(const t of e){const e=ue(t.xpath),r=mr[e],n=t.page;(!r||r&&n)&&(mr[e]=t)}return __spreadValues({},mr)})(t);for(const i of e){const e=i.getAttribute("href");if(("a"===i.tagName.toLowerCase()||"link"===i.getAttribute("role"))&&""===e&&(console.log(`Element ${i.tagName} HREF = ${e}`),i.setAttribute("href","#")),r){const e=r[ue(ce(i))];if(e){cr(i,e.correction,!0);continue}}if(!dr(i)){const e=i.getAttribute("role"),t=i.tagName.toLowerCase(),r=i.getAttribute("type"),n=i.getAttribute("alt"),o=i.getAttribute(Ze);if(Array.from(i.children).find((e=>dr(i,e))))continue;const a=pr(i);if(a){cr(i,a);continue}if((n||o)&&"img"===t&&e&&["link","button"].includes(e)){cr(i,n||o);continue}if("button"===t||"button"===e||"input"===t&&"button"===r){cr(i,"button");continue}if("input"===t&&"submit"===r){cr(i,"submit");continue}if("input"===t&&"reset"===r){cr(i,"reset");continue}cr(i,"Open this option")}}const n=[].slice.call(ur);Zt("REMEDIATION_EMPTY_CONTROLS",n,n.length,n.filter((e=>!e.approved)).length),ur.length=0},isTargetElement:e=>{if(e.hasAttribute(at)||(e=>{let t=e.getAttribute("aria-label")||"";const r=e.getAttribute("aria-describedby");t+=r?se(r):"";let n=ae(t);if(n)return n;const i=e.getAttribute("aria-labelledby");if(i&&(t+=se(i)),n=ae(t),n)return n;if(t=e.textContent?e.textContent:"",n=ae(t),n)return n;const o=e;if(t=o.value||"",n=ae(t),n&&o.type&&["button","submit","reset"].includes(o.type.toLowerCase()))return n;let a=e.querySelector('img, *[role="img"]');return a&&(t=le(a)||"",n=ae(t),n)?n:null})(e))return!1;const t=e.tagName.toLowerCase(),r=e.getAttribute("role"),n=null==e?void 0:e.type;return"a"===t||"link"===r||"button"===t||"button"===r||"input"===t&&["button","submit","reset"].includes(n)},postMessageApi:{"empty-controls-update":({data:e})=>{var t;(null!=(t=null==e?void 0:e.xpath)?t:null==e?void 0:e.correction)&&gr(e)}}})],br=Object.freeze(Object.defineProperty({__proto__:null,RulesList:fr},Symbol.toStringTag,{value:"Module"}))}();
//# sourceMappingURL=remediation-tool.js.map
